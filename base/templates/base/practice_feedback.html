{% extends "main.html" %}
{% block content %}
<h2>Practice Feedback</h2>
{% if correct %}
    <div style="color: green;"><strong>Correct!</strong></div>
    <form method="post" style="display:inline;">
        {% csrf_token %}
        <button type="submit" autofocus>Continue</button>
    </form>
{% else %}
    <div style="color: red;">
        <strong>Incorrect!</strong><br>
        Your answer: <code>{{ answer }}</code><br>
        Correct answer: <code>{{ correct_answer }}</code><br>
        <form method="post" style="display:inline;">
            {% csrf_token %}
            <button type="submit" name="accept_as_correct" value="1">Accept my answer as correct</button>
            <button type="submit" autofocus>Continue</button>
        </form>
    </div>
{% endif %}
<!-- Rollout for hint and notes as before -->

<div>
    <button type="button" onclick="toggleRollout('hint')">Show/Hide Hint</button>
    <div id="hint" style="display:none; margin-bottom:1em;">
        <em>{{ user_word.word.hint|default:"No hint available." }}</em>
    </div>
</div>
<div>
    <button type="button" onclick="toggleRollout('usage')">Show/Hide Usage</button>
    <div id="usage" style="display:none; margin-bottom:1em;">
        <em>{{ user_word.word.usage|default:"No usage example available." }}</em>
    </div>
</div>
<div>
    <button type="button" onclick="toggleRollout('notes')">Show/Hide Notes</button>
    <div id="notes" style="display:none;">
        <em>{{ user_word.notes|default:"No notes available." }}</em>
    </div>
</div>

<form method="post" action="{% url 'cancel-practice' user_lesson_id=user_lesson_id %}">
    {% csrf_token %}
    <button type="submit">Cancel Practice</button>
</form>

<script>
function toggleRollout(id) {
    var el = document.getElementById(id);
    if (el.style.display === "none") {
        el.style.display = "block";
    } else {
        el.style.display = "none";
    }
}
</script>

{% endblock content %}